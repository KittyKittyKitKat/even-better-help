{% extends "layout.html" %}

{% block content %}
<div class="mt-5 pt-5 text-center" style="max-width: 60%; margin: auto;">
  <div class="row">
    <div class="col-21 col-sm-8 col-md-6 m-auto">
      <div class="card shadow">
        <div class="card-body">
          <div class="text-center">
            <form class="needs-validation" id="login-in-form" method="POST" novalidate>
              {{ form.csrf_token() }}
              <div class="form-floating mb-3">
                {{ form.email(class='form-control mb-3', placeholder='') }}
                {{ form.email.label(class='form-label') }}
                <div class="invalid-feedback">
                  Please enter a valid email address
                </div>
              </div>
              <div class="form-floating mb-3">
                {{ form.password(class='form-control mb-3', placeholder='') }}
                {{ form.password.label(class='form-label') }}
              </div>
              <button type="submit" class="btn btn-success mt-2 mb-1 mx-2">Log In</button>
              <a href="{{ url_for('core.signup') }}" class="nav-link mt-2">Create an Account</a>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function validate_log_in_form() {
    const form = document.querySelector('#login-in-form');
    if (form === null) {
      return;
    }
    form.addEventListener(
      'submit',
      event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      },
      false,
    );
  }

  validate_log_in_form();
</script>
{% endblock content %}